{% extends "base.html" %}

{% block title %}Lista de productos{% endblock %}

{% block content %}
<h2>Lista de productos</h2>

<p>
    <a href="{% url 'crear_producto' %}">+ Crear nuevo producto</a>
</p>

<table>
    <thead>
    <tr>
        <th>Nombre</th>
        <th>Descripción</th>
        <th>Precio</th>
        <th>Categoría</th>
        <th>Acciones</th>
    </tr>
    </thead>
    <tbody>
    {% for p in productos %}
        <tr>
            <td>{{ p.nombre }}</td>
            <td>{{ p.descripcion|truncatechars:50 }}</td>
            <td>{{ p.precio }}</td>
            <td>{{ p.categoria.nombre }}</td>
            <td>
                <a href="{% url 'detalle_producto' p.id %}">Ver</a> |
                <a href="{% url 'editar_producto' p.id %}">Editar</a> |
                <a href="{% url 'eliminar_producto' p.id %}">Eliminar</a>
            </td>
        </tr>
    {% empty %}
        <tr>
            <td colspan="5">No hay productos todavía.</td>
        </tr>
    {% endfor %}
    </tbody>
</table>
{% endblock %}
