{% extends 'base.html' %}

{% block title %}Listado de eventos{% endblock %}

{% block content %}
    <h1>Eventos</h1>

    {% if eventos %}
        <table class="table">
            <thead>
                <tr>
                    <th>Título</th>
                    <th>Fecha</th>
                    <th>Lugar</th>
                    <th>Tipo</th>
                    <th>Privado</th>
                    <th>Acciones</th>
                </tr>
            </thead>
            <tbody>
            {% for evento in eventos %}
                <tr>
                    <td>{{ evento.titulo }}</td>
                    <td>{{ evento.fecha }}</td>
                    <td>{{ evento.lugar }}</td>
                    <td>{{ evento.tipo }}</td>
                    <td>
                        {% if evento.es_privado %}
                            <span class="badge badge-privado">Privado</span>
                        {% else %}
                            <span class="badge badge-publico">Público</span>
                        {% endif %}
                    </td>
                    <td>
                        <a class="btn btn-secondary" href="{% url 'eventos:evento_detalle' evento.pk %}">Ver</a>

                        {% if perms.eventos.change_evento %}
                            <a class="btn btn-secondary" href="{% url 'eventos:evento_editar' evento.pk %}">Editar</a>
                        {% endif %}

                        {% if perms.eventos.delete_evento %}
                            <a class="btn btn-danger" href="{% url 'eventos:evento_eliminar' evento.pk %}">Eliminar</a>
                        {% endif %}
                    </td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    {% else %}
        <p class="mt-2">No hay eventos registrados.</p>
    {% endif %}

    <div class="mt-3">
        <a class="btn" href="{% url 'eventos:evento_crear' %}">Crear nuevo evento</a>
    </div>
{% endblock %}

